{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pradh\\\\Desktop\\\\devrev\\\\TheBookCrafter.com\\\\src\\\\Context\\\\product-context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useReducer, useContext, createContext } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsContext = /*#__PURE__*/createContext();\nlet filterOptionsObject = {\n  includeOutOfStock: true,\n  onlyFastDeliveryProducts: false,\n  minPrice: 0,\n  maxPrice: 1200,\n  fiction: true,\n  thriller: true,\n  tech: true,\n  philosophy: true,\n  romance: true,\n  manga: true,\n  minRating: 1\n};\n\nfunction updateProductFilters(state, action) {\n  switch (action.type) {\n    case \"UPDATE_OUTOFSTOCK_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: !state.includeOutOfStock\n        };\n      }\n\n    case \"UPDATE_FASTDELIVERY_FILTER\":\n      {\n        return { ...state,\n          onlyFastDeliveryProducts: !state.onlyFastDeliveryProducts\n        };\n      }\n\n    case \"UPDATE_MIN_PRICE_RANGE_FILTER\":\n      {\n        return { ...state,\n          minPrice: action.minPrice\n        };\n      }\n\n    case \"UPDATE_MAX_PRICE_RANGE_FILTER\":\n      {\n        return { ...state,\n          maxPrice: action.maxPrice\n        };\n      }\n\n    case \"UPDATE_FICTION_FILTER\":\n      {\n        return { ...state,\n          fiction: !state.fiction\n        };\n      }\n\n    case \"UPDATE_THRILLER_FILTER\":\n      {\n        return { ...state,\n          thriller: !state.thriller\n        };\n      }\n\n    case \"UPDATE_TECH_FILTER\":\n      {\n        return { ...state,\n          tech: !state.tech\n        };\n      }\n\n    case \"UPDATE_PHILOSOPHY_FILTER\":\n      {\n        return { ...state,\n          philosophy: !state.philosophy\n        };\n      }\n\n    case \"UPDATE_ROMANCE_FILTER\":\n      {\n        return { ...state,\n          romance: !state.romance\n        };\n      }\n\n    case \"UPDATE_MANGA_FILTER\":\n      {\n        return { ...state,\n          manga: !state.manga\n        };\n      }\n\n    case \"UPDATE_MINIMUM_RATING_FILTER\":\n      {\n        return { ...state,\n          minRating: action.minRating\n        };\n      }\n\n    case \"SELECT_ONLY_FICTION_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: true,\n          thriller: false,\n          tech: false,\n          philosophy: false,\n          romance: false,\n          manga: false,\n          minRating: 1\n        };\n      }\n\n    case \"SELECT_ONLY_THRILLER_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: false,\n          thriller: true,\n          tech: false,\n          philosophy: false,\n          romance: false,\n          manga: false,\n          minRating: 1\n        };\n      }\n\n    case \"SELECT_ONLY_TECH_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: false,\n          thriller: false,\n          tech: true,\n          philosophy: false,\n          romance: false,\n          manga: false,\n          minRating: 1\n        };\n      }\n\n    case \"SELECT_ONLY_PHILOSOPHY_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: false,\n          thriller: false,\n          tech: false,\n          philosophy: true,\n          romance: false,\n          manga: false,\n          minRating: 1\n        };\n      }\n\n    case \"SELECT_ONLY_ROMANCE_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: false,\n          thriller: false,\n          tech: false,\n          philosophy: false,\n          romance: true,\n          manga: false,\n          minRating: 1\n        };\n      }\n\n    case \"SELECT_ONLY_MANGA_FILTER\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: false,\n          thriller: false,\n          tech: false,\n          philosophy: false,\n          romance: false,\n          manga: true,\n          minRating: 1\n        };\n      }\n\n    case \"RESET_DEFAULT_FILTERS\":\n      {\n        return { ...state,\n          includeOutOfStock: true,\n          onlyFastDeliveryProducts: false,\n          minPrice: 0,\n          maxPrice: 1200,\n          fiction: true,\n          thriller: true,\n          tech: true,\n          philosophy: true,\n          romance: true,\n          manga: true,\n          minRating: 1\n        };\n      }\n\n    default:\n      return { ...state\n      };\n  }\n}\n\nlet productList = [];\n\nfunction productsOrderFunc(state, action) {\n  switch (action.type) {\n    case \"PRICE_HIGH_TO_LOW\":\n      {\n        return [...state].sort((a, b) => b.discountedPrice - a.discountedPrice);\n      }\n\n    case \"PRICE_LOW_TO_HIGH\":\n      {\n        return [...state].sort((a, b) => a.discountedPrice - b.discountedPrice);\n      }\n\n    case \"UPDATE_LIST_AS_PER_FILTERS\":\n      {\n        if (action.payload.includeOutOfStock === true) {\n          //All products\n          return action.payload.onlyFastDeliveryProducts === false ? productList.filter(item => action.payload.minPrice <= item.discountedPrice && item.discountedPrice < action.payload.maxPrice && action.payload[item.genre] && item.rating >= action.payload.minRating) : productList.filter(item => item.fastDeliveryAvailable === true && action.payload.minPrice <= item.discountedPrice && item.discountedPrice < action.payload.maxPrice && action.payload[item.genre] && item.rating >= action.payload.minRating);\n        } else {\n          //Only available products\n          return action.payload.onlyFastDeliveryProducts === false ? productList.filter(item => item.outOfStock === false && action.payload.minPrice <= item.discountedPrice && item.discountedPrice < action.payload.maxPrice && action.payload[item.genre] && item.rating >= action.payload.minRating) : productList.filter(item => item.outOfStock === false && item.fastDeliveryAvailable === true && action.payload.minPrice <= item.discountedPrice && item.discountedPrice < action.payload.maxPrice && action.payload[item.genre] && item.rating >= action.payload.minRating);\n        }\n      }\n\n    case \"ADD_ITEMS_TO_PRODUCTS_AVAILABLE_LIST\":\n      {\n        return [...action.payload];\n      }\n\n    default:\n      return [...state];\n  }\n}\n\nlet ProductsProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [productsAvailableList, dispatchSortedProductsList] = useReducer(productsOrderFunc, productList);\n  const [productFilterOptions, dispatchProductFilterOptions] = useReducer(updateProductFilters, filterOptionsObject);\n  useEffect(() => {\n    try {\n      (async () => {\n        const productsAvailableData = await axios.get('https://bookztron-server.vercel.app/api/home/products');\n        productList = [...productsAvailableData.data.productsList];\n      })();\n    } catch (error) {\n      console.log(\"Error : \", error);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: {\n      productsAvailableList,\n      dispatchSortedProductsList,\n      productFilterOptions,\n      dispatchProductFilterOptions\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductsProvider, \"7g0FX9bofYqJdKkNvcQQhGDAnYM=\");\n\n_c = ProductsProvider;\n\nlet useProductAvailable = () => {\n  _s2();\n\n  return useContext(ProductsContext);\n};\n\n_s2(useProductAvailable, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { ProductsProvider, useProductAvailable };\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsProvider\");","map":{"version":3,"sources":["C:/Users/pradh/Desktop/devrev/TheBookCrafter.com/src/Context/product-context.js"],"names":["useEffect","useReducer","useContext","createContext","axios","ProductsContext","filterOptionsObject","includeOutOfStock","onlyFastDeliveryProducts","minPrice","maxPrice","fiction","thriller","tech","philosophy","romance","manga","minRating","updateProductFilters","state","action","type","productList","productsOrderFunc","sort","a","b","discountedPrice","payload","filter","item","genre","rating","fastDeliveryAvailable","outOfStock","ProductsProvider","children","productsAvailableList","dispatchSortedProductsList","productFilterOptions","dispatchProductFilterOptions","productsAvailableData","get","data","productsList","error","console","log","useProductAvailable"],"mappings":"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","sourcesContent":["import { useEffect, useReducer, useContext, createContext} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst ProductsContext = createContext()\r\n\r\nlet filterOptionsObject = {\r\n    includeOutOfStock        : true,\r\n    onlyFastDeliveryProducts : false,\r\n    minPrice                 : 0,\r\n    maxPrice                 : 1200,\r\n    fiction                  : true,\r\n    thriller                 : true,\r\n    tech                     : true,\r\n    philosophy               : true,\r\n    romance                  : true,\r\n    manga                    : true,\r\n    minRating                : 1\r\n}\r\n\r\nfunction updateProductFilters(state, action)\r\n{\r\n    switch(action.type)\r\n    {\r\n        case \"UPDATE_OUTOFSTOCK_FILTER\" : \r\n            {\r\n                return {...state, includeOutOfStock : !(state.includeOutOfStock)}\r\n            }\r\n\r\n        case \"UPDATE_FASTDELIVERY_FILTER\" : \r\n            {\r\n                return {...state, onlyFastDeliveryProducts : !(state.onlyFastDeliveryProducts)}\r\n            }\r\n        \r\n        case \"UPDATE_MIN_PRICE_RANGE_FILTER\" :\r\n            {\r\n                return {...state, minPrice : action.minPrice}\r\n            }\r\n        \r\n        case \"UPDATE_MAX_PRICE_RANGE_FILTER\" :\r\n            {\r\n                return {...state, maxPrice : action.maxPrice}\r\n            }\r\n        case \"UPDATE_FICTION_FILTER\":\r\n            {\r\n                return {...state, fiction : !(state.fiction) }\r\n            }\r\n        case \"UPDATE_THRILLER_FILTER\":\r\n            {\r\n                return {...state, thriller : !(state.thriller) }\r\n            }\r\n        case \"UPDATE_TECH_FILTER\":\r\n            {\r\n                return {...state, tech : !(state.tech) }\r\n            }\r\n        case \"UPDATE_PHILOSOPHY_FILTER\":\r\n            {\r\n                return {...state, philosophy : !(state.philosophy) }\r\n            }\r\n        case \"UPDATE_ROMANCE_FILTER\":\r\n            {\r\n                return {...state, romance : !(state.romance) }\r\n            }\r\n        case \"UPDATE_MANGA_FILTER\":\r\n            {\r\n                return {...state, manga : !(state.manga) }\r\n            }\r\n        case \"UPDATE_MINIMUM_RATING_FILTER\":\r\n            {\r\n                return {...state, minRating : action.minRating}\r\n            }\r\n        case \"SELECT_ONLY_FICTION_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : true,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }\r\n            }\r\n        case \"SELECT_ONLY_THRILLER_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : true,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_TECH_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : true,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_PHILOSOPHY_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : true,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_ROMANCE_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : true,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_MANGA_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : true,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"RESET_DEFAULT_FILTERS\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : true,\r\n                    thriller                 : true,\r\n                    tech                     : true,\r\n                    philosophy               : true,\r\n                    romance                  : true,\r\n                    manga                    : true,\r\n                    minRating                : 1\r\n                }\r\n            }\r\n        default : return {...state}\r\n    }\r\n}\r\n\r\nlet productList = []\r\n\r\nfunction productsOrderFunc(state,action)\r\n{\r\n    switch(action.type)\r\n    {\r\n        case \"PRICE_HIGH_TO_LOW\" : \r\n            {\r\n                return [...state].sort((a,b)=>b.discountedPrice-a.discountedPrice)\r\n            }\r\n\r\n        case \"PRICE_LOW_TO_HIGH\" : \r\n            {\r\n                return [...state].sort((a,b)=>a.discountedPrice-b.discountedPrice)\r\n            }\r\n\r\n        case \"UPDATE_LIST_AS_PER_FILTERS\" : \r\n            {\r\n                if(action.payload.includeOutOfStock===true)\r\n                {\r\n                    //All products\r\n                    return (action.payload.onlyFastDeliveryProducts===false) \r\n                    ? productList.filter(item=>\r\n                        (\r\n                            action.payload.minPrice<=item.discountedPrice \r\n                            && item.discountedPrice<action.payload.maxPrice\r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        )\r\n                      )\r\n                    : productList.filter(item=> \r\n                        (\r\n                            item.fastDeliveryAvailable===true\r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                }\r\n                else\r\n                {\r\n                    //Only available products\r\n                    return (action.payload.onlyFastDeliveryProducts===false) \r\n                    ? productList.filter(item=>\r\n                        (\r\n                            item.outOfStock===false \r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                    : productList.filter(item=>\r\n                        (\r\n                            item.outOfStock===false\r\n                            && item.fastDeliveryAvailable===true \r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                }\r\n            }\r\n\r\n        case \"ADD_ITEMS_TO_PRODUCTS_AVAILABLE_LIST\":\r\n            {\r\n                return [...action.payload]\r\n            }\r\n\r\n        default : return [...state]\r\n    }\r\n}\r\n\r\nlet ProductsProvider = ({children}) => \r\n{\r\n    const [ productsAvailableList, dispatchSortedProductsList] = useReducer(productsOrderFunc,productList)\r\n    const [ productFilterOptions, dispatchProductFilterOptions ] = useReducer(updateProductFilters,filterOptionsObject)\r\n\r\n    useEffect(() => {\r\n      try {\r\n        (async () => {\r\n            const productsAvailableData = await axios.get('https://bookztron-server.vercel.app/api/home/products')\r\n            productList = [...productsAvailableData.data.productsList]\r\n        }) ()\r\n      }\r\n      catch(error) {\r\n        console.log(\"Error : \", error)\r\n      }\r\n    },[])\r\n\r\n    return (\r\n        <ProductsContext.Provider value={{ productsAvailableList, dispatchSortedProductsList, productFilterOptions, dispatchProductFilterOptions}}>\r\n            {children}\r\n        </ProductsContext.Provider>\r\n    )\r\n}\r\n\r\nlet useProductAvailable = () => useContext(ProductsContext)\r\n\r\nexport { ProductsProvider, useProductAvailable}"]},"metadata":{},"sourceType":"module"}