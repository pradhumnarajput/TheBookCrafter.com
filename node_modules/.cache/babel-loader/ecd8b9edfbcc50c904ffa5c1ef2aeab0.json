{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pradh\\\\Desktop\\\\devrev\\\\Bookztron-E-Commerce_Book_Store\\\\src\\\\Pages\\\\Wishlist\\\\Wishlist.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./Wishlist.css\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"../../Context/wishlist-context\";\nimport { WishlistProductCard, useWishlist, useCart } from \"../../index\";\nimport Lottie from 'react-lottie';\nimport HeartLottie from \"../../Assets/Icons/heart.json\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Wishlist() {\n  _s();\n\n  const {\n    userWishlist,\n    dispatchUserWishlist\n  } = useWishlist();\n  const {\n    dispatchUserCart\n  } = useCart();\n  let heartObj = {\n    loop: true,\n    autoplay: true,\n    animationData: HeartLottie,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      const user = jwt_decode(token);\n\n      if (!user) {\n        localStorage.removeItem('token');\n      } else {\n        (async function getUpdatedWishlistAndCart() {\n          let updatedUserInfo = await axios.get(\"https://bookztron-server.vercel.app/api/user\", {\n            headers: {\n              'x-access-token': localStorage.getItem('token')\n            }\n          });\n\n          if (updatedUserInfo.data.status === \"ok\") {\n            dispatchUserWishlist({\n              type: \"UPDATE_USER_WISHLIST\",\n              payload: updatedUserInfo.data.user.wishlist\n            });\n            dispatchUserCart({\n              type: \"UPDATE_USER_CART\",\n              payload: updatedUserInfo.data.user.cart\n            });\n          }\n        })();\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wishlist-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [userWishlist.length, \" \", userWishlist.length === 1 ? \"item\" : \"items\", \" in Wishlist\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-card-grid\",\n      children: JSON.stringify(userWishlist) !== JSON.stringify([]) ? userWishlist.map(productdetails => /*#__PURE__*/_jsxDEV(WishlistProductCard, {\n        productdetails: productdetails\n      }, productdetails._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-wishlist-message-container\",\n        children: [/*#__PURE__*/_jsxDEV(Lottie, {\n          options: heartObj,\n          height: 150,\n          width: 150,\n          isStopped: false,\n          isPaused: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your wishlist is empty \\uD83D\\uDE43\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/shop\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" solid-primary-btn\",\n            children: \"Go to shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Wishlist, \"OJFhKCdXrl18MNhYTkXs1xiwDiU=\", false, function () {\n  return [useWishlist, useCart];\n});\n\n_c = Wishlist;\nexport { Wishlist };\n\nvar _c;\n\n$RefreshReg$(_c, \"Wishlist\");","map":{"version":3,"sources":["C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/src/Pages/Wishlist/Wishlist.jsx"],"names":["jwt_decode","axios","Link","useNavigate","WishlistProductCard","useWishlist","useCart","Lottie","HeartLottie","useEffect","Wishlist","userWishlist","dispatchUserWishlist","dispatchUserCart","heartObj","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","token","localStorage","getItem","user","removeItem","getUpdatedWishlistAndCart","updatedUserInfo","get","headers","data","status","type","payload","wishlist","cart","length","JSON","stringify","map","productdetails","_id"],"mappings":"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","sourcesContent":["import \"./Wishlist.css\"\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from \"axios\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport {  } from \"../../Context/wishlist-context\"\r\nimport { \r\n    WishlistProductCard,\r\n    useWishlist,\r\n    useCart \r\n} from \"../../index\"\r\nimport Lottie from 'react-lottie';\r\nimport HeartLottie from \"../../Assets/Icons/heart.json\"\r\nimport { useEffect } from \"react\";\r\n\r\nfunction Wishlist()\r\n{\r\n    const { userWishlist, dispatchUserWishlist } = useWishlist()\r\n    const { dispatchUserCart } = useCart()\r\n\r\n    let heartObj = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData : HeartLottie,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const token=localStorage.getItem('token')\r\n\r\n        if(token)\r\n        {\r\n            const user = jwt_decode(token)\r\n            if(!user)\r\n            {\r\n                localStorage.removeItem('token')\r\n            }\r\n            else\r\n            {\r\n                (async function getUpdatedWishlistAndCart()\r\n                {\r\n                    let updatedUserInfo = await axios.get(\r\n                    \"https://bookztron-server.vercel.app/api/user\",\r\n                    {\r\n                        headers:\r\n                        {\r\n                        'x-access-token': localStorage.getItem('token'),\r\n                        }\r\n                    })\r\n\r\n                    if(updatedUserInfo.data.status===\"ok\")\r\n                    {\r\n                        dispatchUserWishlist({type: \"UPDATE_USER_WISHLIST\",payload: updatedUserInfo.data.user.wishlist})\r\n                        dispatchUserCart({type: \"UPDATE_USER_CART\",payload: updatedUserInfo.data.user.cart})\r\n                    }\r\n                })()\r\n            }\r\n        }   \r\n    },[])\r\n\r\n    return (\r\n        <div className=\"wishlist-container\">\r\n            <h2>{userWishlist.length} {userWishlist.length===1?\"item\":\"items\"} in Wishlist</h2>\r\n            <div className=\"products-card-grid\">\r\n                {\r\n                    JSON.stringify(userWishlist)!==JSON.stringify([]) \r\n                    ? (\r\n                        userWishlist.map(productdetails => (\r\n                            <WishlistProductCard key={productdetails._id} productdetails={productdetails} />\r\n                        ))\r\n                    )\r\n                    : (\r\n                        <div className=\"empty-wishlist-message-container\">\r\n                            <Lottie options={heartObj}\r\n                                height={150}\r\n                                width={150}\r\n                                isStopped={false}\r\n                                isPaused={false}\r\n                            />\r\n                            <h2>Your wishlist is empty 🙃</h2>\r\n                            <Link to=\"/shop\">\r\n                                <button className=\" solid-primary-btn\">Go to shop</button>\r\n                            </Link>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Wishlist }"]},"metadata":{},"sourceType":"module"}