{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pradh\\\\Desktop\\\\devrev\\\\Bookztron-E-Commerce_Book_Store\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import\"./ProductOrderCard.css\";import{useState}from\"react\";import axios from\"axios\";import jwt_decode from\"jwt-decode\";import{useNavigate}from\"react-router-dom\";import{useToast,useOrders}from\"../../index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductOrderCard(_ref){var productDetails=_ref.productDetails;var _useOrders=useOrders(),dispatchUserOrders=_useOrders.dispatchUserOrders;var navigate=useNavigate();var _useToast=useToast(),showToast=_useToast.showToast;var _id=productDetails._id,bookName=productDetails.bookName,author=productDetails.author,originalPrice=productDetails.originalPrice,discountedPrice=productDetails.discountedPrice,discountPercent=productDetails.discountPercent,imgSrc=productDetails.imgSrc,imgAlt=productDetails.imgAlt,badgeText=productDetails.badgeText,outOfStock=productDetails.outOfStock,quantity=productDetails.quantity,orderId=productDetails.orderId;var removeItemFromOrders=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var updatedUserInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.patch(\"https://bookztron-server.vercel.app/api/orders/\".concat(_id),{orderId:orderId},{headers:{'x-access-token':localStorage.getItem('token')}});case 2:updatedUserInfo=_context.sent;if(updatedUserInfo.data.status===\"ok\"){dispatchUserOrders({type:\"UPDATE_USER_ORDERS\",payload:updatedUserInfo.data.user.orders});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function removeItemFromOrders(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card-basic-horizontal\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cart-item-book-img\",src:imgSrc,alt:imgAlt}),/*#__PURE__*/_jsxs(\"div\",{id:\"cart-item-detail\",className:\"card-item-details\",children:[/*#__PURE__*/_jsx(\"h4\",{id:\"item-title\",children:bookName}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-author\",children:[\"By \\xA0\",author]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-cart-quantity\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"cart-quantity-para\",children:\"Quantity : \\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"p\",{children:quantity})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-id\",children:[\"Order id: \",orderId]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-horizontal-card-btns card-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"solid-primary-btn\",onClick:removeItemFromOrders,children:\"Remove item from Order\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"badge-on-card\",children:badgeText})]})]});}export{ProductOrderCard};","map":{"version":3,"sources":["C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/src/Components/ProductOrderCard/ProductOrderCard.jsx"],"names":["useState","axios","jwt_decode","useNavigate","useToast","useOrders","ProductOrderCard","productDetails","dispatchUserOrders","navigate","showToast","_id","bookName","author","originalPrice","discountedPrice","discountPercent","imgSrc","imgAlt","badgeText","outOfStock","quantity","orderId","removeItemFromOrders","patch","headers","localStorage","getItem","updatedUserInfo","data","status","type","payload","user","orders"],"mappings":"mTAAA,MAAO,wBAAP,CACA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,aAApC,C,wFAEA,QAASC,CAAAA,gBAAT,MACA,IAD2BC,CAAAA,cAC3B,MAD2BA,cAC3B,CACI,eAA+BF,SAAS,EAAxC,CAAQG,kBAAR,YAAQA,kBAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,cAAsBC,QAAQ,EAA9B,CAAQM,SAAR,WAAQA,SAAR,CACA,GACIC,CAAAA,GADJ,CAaIJ,cAbJ,CACII,GADJ,CAEIC,QAFJ,CAaIL,cAbJ,CAEIK,QAFJ,CAGIC,MAHJ,CAaIN,cAbJ,CAGIM,MAHJ,CAIIC,aAJJ,CAaIP,cAbJ,CAIIO,aAJJ,CAKIC,eALJ,CAaIR,cAbJ,CAKIQ,eALJ,CAMIC,eANJ,CAaIT,cAbJ,CAMIS,eANJ,CAOIC,MAPJ,CAaIV,cAbJ,CAOIU,MAPJ,CAQIC,MARJ,CAaIX,cAbJ,CAQIW,MARJ,CASIC,SATJ,CAaIZ,cAbJ,CASIY,SATJ,CAUIC,UAVJ,CAaIb,cAbJ,CAUIa,UAVJ,CAWIC,QAXJ,CAaId,cAbJ,CAWIc,QAXJ,CAYIC,OAZJ,CAaIf,cAbJ,CAYIe,OAZJ,CAeA,GAAMC,CAAAA,oBAAoB,2FAAG,6KACGtB,CAAAA,KAAK,CAACuB,KAAN,0DAC0Bb,GAD1B,EAExB,CACIW,OAAO,CAAPA,OADJ,CAFwB,CAKxB,CACIG,OAAO,CAAG,CAAC,iBAAkBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAnB,CADd,CALwB,CADH,QACrBC,eADqB,eAUzB,GAAGA,eAAe,CAACC,IAAhB,CAAqBC,MAArB,GAA8B,IAAjC,CACA,CACItB,kBAAkB,CAAC,CAACuB,IAAI,CAAE,oBAAP,CAA4BC,OAAO,CAAEJ,eAAe,CAACC,IAAhB,CAAqBI,IAArB,CAA0BC,MAA/D,CAAD,CAAlB,CACH,CAbwB,sDAAH,kBAApBX,CAAAA,oBAAoB,2CAA1B,CAgBA,mBACI,aAAK,SAAS,CAAC,uBAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAEN,MAAzC,CAAiD,GAAG,CAAEC,MAAtD,EADJ,cAEI,aAAK,EAAE,CAAC,kBAAR,CAA2B,SAAS,CAAC,mBAArC,wBAEI,WAAI,EAAE,CAAC,YAAP,UAAqBN,QAArB,EAFJ,cAGI,WAAG,SAAS,CAAC,aAAb,qBAAqCC,MAArC,GAHJ,cAKI,aAAK,SAAS,CAAC,oBAAf,wBACI,UAAG,SAAS,CAAC,oBAAb,iCADJ,cAEI,mBACKQ,QADL,EAFJ,GALJ,cAYI,WAAG,SAAS,CAAC,UAAb,wBAAmCC,OAAnC,GAZJ,cAcI,YAAK,SAAS,CAAC,uCAAf,uBACI,eACI,SAAS,CAAC,mBADd,CAEI,OAAO,CAAEC,oBAFb,oCADJ,EAdJ,cAsBI,YAAK,SAAS,CAAC,eAAf,UACKJ,SADL,EAtBJ,GAFJ,GADJ,CA+BH,CAED,OAASb,gBAAT","sourcesContent":["import \"./ProductOrderCard.css\"\r\nimport { useState } from \"react\"\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { useToast, useOrders } from \"../../index\"\r\n\r\nfunction ProductOrderCard({productDetails})\r\n{\r\n    const { dispatchUserOrders } = useOrders()\r\n    const navigate = useNavigate()\r\n\r\n    const { showToast } = useToast()\r\n    const {\r\n        _id, \r\n        bookName,\r\n        author,\r\n        originalPrice,\r\n        discountedPrice,\r\n        discountPercent,\r\n        imgSrc, \r\n        imgAlt,\r\n        badgeText, \r\n        outOfStock, \r\n        quantity,\r\n        orderId\r\n    } = productDetails;\r\n\r\n    const removeItemFromOrders = async () => {\r\n        let updatedUserInfo = await axios.patch(\r\n            `https://bookztron-server.vercel.app/api/orders/${_id}`,\r\n            {\r\n                orderId\r\n            },\r\n            {\r\n                headers : {'x-access-token': localStorage.getItem('token')}\r\n            }\r\n        )\r\n        if(updatedUserInfo.data.status===\"ok\")\r\n        {\r\n            dispatchUserOrders({type: \"UPDATE_USER_ORDERS\",payload: updatedUserInfo.data.user.orders})\r\n        } \r\n    }\r\n\r\n    return (\r\n        <div className=\"card-basic-horizontal\">\r\n            <img className=\"cart-item-book-img\" src={imgSrc} alt={imgAlt}/>\r\n            <div id=\"cart-item-detail\" className=\"card-item-details\">\r\n\r\n                <h4 id=\"item-title\">{bookName}</h4>\r\n                <p className=\"item-author\">By &nbsp;{author}</p>\r\n    \r\n                <div className=\"item-cart-quantity\">\r\n                    <p className=\"cart-quantity-para\">Quantity : &nbsp;&nbsp;</p>\r\n                    <p>\r\n                        {quantity}\r\n                    </p>\r\n                </div>\r\n\r\n                <p className=\"order-id\">Order id: {orderId}</p>\r\n    \r\n                <div className=\"cart-horizontal-card-btns card-button\">\r\n                    <button \r\n                        className=\"solid-primary-btn\"\r\n                        onClick={removeItemFromOrders}\r\n                    >\r\n                        Remove item from Order\r\n                    </button>\r\n                </div>\r\n                <div className=\"badge-on-card\">\r\n                    {badgeText}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { ProductOrderCard }"]},"metadata":{},"sourceType":"module"}