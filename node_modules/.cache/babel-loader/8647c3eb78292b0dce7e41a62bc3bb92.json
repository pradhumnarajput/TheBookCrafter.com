{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pradh/Desktop/devrev/TheBookCrafter.com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pradh\\\\Desktop\\\\devrev\\\\TheBookCrafter.com\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from'react';import{Link}from\"react-router-dom\";import axios from\"axios\";import{useLocation}from\"react-router-dom\";import LibraryIllustration from\"../..//Assets/Images/Library_Illustration_1.jpg\";import'./Home.css';import jwt_decode from\"jwt-decode\";import{GenreCard,NewArrivals,Footer,useWishlist,useCart}from\"../../index.js\";import{useProductAvailable}from\"../../Context/product-context\";import{useGenre}from\"../../Context/genre-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useProductAvailable=useProductAvailable(),dispatchProductFilterOptions=_useProductAvailable.dispatchProductFilterOptions;var _useWishlist=useWishlist(),dispatchUserWishlist=_useWishlist.dispatchUserWishlist;var _useCart=useCart(),dispatchUserCart=_useCart.dispatchUserCart;var _useGenre=useGenre(),setFictionCategoryCheckbox=_useGenre.setFictionCategoryCheckbox,setThrillerCategoryCheckbox=_useGenre.setThrillerCategoryCheckbox,setTechCategoryCheckbox=_useGenre.setTechCategoryCheckbox,setPhilosophyCategoryCheckbox=_useGenre.setPhilosophyCategoryCheckbox,setRomanceCategoryCheckbox=_useGenre.setRomanceCategoryCheckbox,setMangaCategoryCheckbox=_useGenre.setMangaCategoryCheckbox;var _useLocation=useLocation(),pathname=_useLocation.pathname;useEffect(function(){window.scrollTo(0,0);},[pathname]);useEffect(function(){var token=localStorage.getItem('token');if(token){var user=jwt_decode(token);if(!user){localStorage.removeItem('token');}else{(function(){var _getUpdatedWishlistAndCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var updatedUserInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://bookztron-server.vercel.app/api/user\",{headers:{'x-access-token':localStorage.getItem('token')}});case 2:updatedUserInfo=_context.sent;if(updatedUserInfo.data.status===\"ok\"){dispatchUserWishlist({type:\"UPDATE_USER_WISHLIST\",payload:updatedUserInfo.data.user.wishlist});dispatchUserCart({type:\"UPDATE_USER_CART\",payload:updatedUserInfo.data.user.cart});}case 4:case\"end\":return _context.stop();}}},_callee);}));function getUpdatedWishlistAndCart(){return _getUpdatedWishlistAndCart.apply(this,arguments);}return getUpdatedWishlistAndCart;})()();}}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home-component-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-page-img-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"home-page-background-img\",src:LibraryIllustration,alt:\"Library Illustration\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"homepage-headings\",children:\"Genres\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"genre-cards-container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Fiction\"})}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Thriller\"})}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Tech\"})}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Philosophy\"})}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Romance\"})}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",state:{navigate:true},children:/*#__PURE__*/_jsx(GenreCard,{genretype:\"Manga\"})})]}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setFictionCategoryCheckbox(true);setThrillerCategoryCheckbox(true);setTechCategoryCheckbox(true);setPhilosophyCategoryCheckbox(true);setRomanceCategoryCheckbox(true);setMangaCategoryCheckbox(true);dispatchProductFilterOptions({type:\"RESET_DEFAULT_FILTERS\"});},className:\"solid-secondary-btn homepage-explore-all-btn\",children:\"Explore All\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"homepage-headings\",children:\"New Arrivals\"}),/*#__PURE__*/_jsx(NewArrivals,{}),/*#__PURE__*/_jsx(Footer,{})]});}export{Home};","map":{"version":3,"sources":["C:/Users/pradh/Desktop/devrev/TheBookCrafter.com/src/Pages/Home/Home.jsx"],"names":["React","useEffect","Link","axios","useLocation","LibraryIllustration","jwt_decode","GenreCard","NewArrivals","Footer","useWishlist","useCart","useProductAvailable","useGenre","Home","dispatchProductFilterOptions","dispatchUserWishlist","dispatchUserCart","setFictionCategoryCheckbox","setThrillerCategoryCheckbox","setTechCategoryCheckbox","setPhilosophyCategoryCheckbox","setRomanceCategoryCheckbox","setMangaCategoryCheckbox","pathname","window","scrollTo","token","localStorage","getItem","user","removeItem","get","headers","updatedUserInfo","data","status","type","payload","wishlist","cart","getUpdatedWishlistAndCart","navigate"],"mappings":"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","sourcesContent":["import React,{ useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport LibraryIllustration from \"../..//Assets/Images/Library_Illustration_1.jpg\"\r\nimport './Home.css'\r\nimport jwt_decode from \"jwt-decode\"\r\nimport {  \r\n  GenreCard, \r\n  NewArrivals,\r\n  Footer,\r\n  useWishlist,\r\n  useCart \r\n} from \"../../index.js\"\r\nimport { useProductAvailable } from \"../../Context/product-context\"\r\nimport { useGenre } from \"../../Context/genre-context\"\r\n\r\nfunction Home() {\r\n  const { dispatchProductFilterOptions } = useProductAvailable()\r\n  const { dispatchUserWishlist } = useWishlist()\r\n  const { dispatchUserCart } = useCart()\r\n  const {\r\n    setFictionCategoryCheckbox,\r\n    setThrillerCategoryCheckbox,\r\n    setTechCategoryCheckbox,\r\n    setPhilosophyCategoryCheckbox,\r\n    setRomanceCategoryCheckbox,\r\n    setMangaCategoryCheckbox, \r\n  } = useGenre()\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  useEffect(()=>{\r\n      const token=localStorage.getItem('token')\r\n\r\n      if(token)\r\n      {\r\n          const user = jwt_decode(token)\r\n          if(!user)\r\n          {\r\n              localStorage.removeItem('token')\r\n          }\r\n          else\r\n          {\r\n              (async function getUpdatedWishlistAndCart()\r\n              {\r\n                  let updatedUserInfo = await axios.get(\r\n                  \"https://bookztron-server.vercel.app/api/user\",\r\n                  {\r\n                      headers:\r\n                      {\r\n                      'x-access-token': localStorage.getItem('token'),\r\n                      }\r\n                  })\r\n\r\n                  if(updatedUserInfo.data.status===\"ok\")\r\n                  {\r\n                      dispatchUserWishlist({type: \"UPDATE_USER_WISHLIST\",payload: updatedUserInfo.data.user.wishlist})\r\n                      dispatchUserCart({type: \"UPDATE_USER_CART\",payload: updatedUserInfo.data.user.cart})\r\n                  }\r\n              })()\r\n          }\r\n      }   \r\n  },[])\r\n\r\n  return (\r\n    <div className='home-component-container'>\r\n      <div className='home-page-img-container'>\r\n        <img className=\"home-page-background-img\" src={LibraryIllustration} alt=\"Library Illustration\"/>\r\n      </div>\r\n\r\n      <h1 className='homepage-headings'>Genres</h1>\r\n      <div className='genre-cards-container'>\r\n          \r\n        <Link to={\"/shop\"}> \r\n            <GenreCard genretype=\"Fiction\"/>\r\n        </Link>\r\n        <Link to={\"/shop\"}> \r\n            <GenreCard genretype=\"Thriller\"/>\r\n        </Link>\r\n        <Link to={\"/shop\"}> \r\n            <GenreCard genretype=\"Tech\"/>\r\n        </Link>\r\n        <Link to={\"/shop\"}> \r\n            <GenreCard genretype=\"Philosophy\"/>\r\n        </Link>\r\n        <Link to={\"/shop\"}> \r\n            <GenreCard genretype=\"Romance\"/>\r\n        </Link>\r\n        <Link to={\"/shop\"} state={{navigate: true}}> \r\n            <GenreCard genretype=\"Manga\"/>\r\n        </Link>\r\n\r\n      </div>\r\n\r\n      <Link to={\"/shop\"}>\r\n        <button \r\n          onClick={()=>{\r\n            setFictionCategoryCheckbox(true)\r\n            setThrillerCategoryCheckbox(true)\r\n            setTechCategoryCheckbox(true)\r\n            setPhilosophyCategoryCheckbox(true)\r\n            setRomanceCategoryCheckbox(true)\r\n            setMangaCategoryCheckbox(true)\r\n            dispatchProductFilterOptions({type:\"RESET_DEFAULT_FILTERS\"}) }  \r\n          }\r\n          className=\"solid-secondary-btn homepage-explore-all-btn\">\r\n          Explore All\r\n        </button>\r\n      </Link>\r\n\r\n      <h1 className='homepage-headings'>New Arrivals</h1>\r\n      <NewArrivals/>\r\n      <Footer/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { Home };"]},"metadata":{},"sourceType":"module"}