{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pradh\\\\Desktop\\\\devrev\\\\Bookztron-E-Commerce_Book_Store\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useReducer,useContext,createContext}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var ProductsContext=/*#__PURE__*/createContext();var filterOptionsObject={includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:true,thriller:true,tech:true,philosophy:true,romance:true,manga:true,minRating:1};function updateProductFilters(state,action){switch(action.type){case\"UPDATE_OUTOFSTOCK_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:!state.includeOutOfStock});}case\"UPDATE_FASTDELIVERY_FILTER\":{return _objectSpread(_objectSpread({},state),{},{onlyFastDeliveryProducts:!state.onlyFastDeliveryProducts});}case\"UPDATE_MIN_PRICE_RANGE_FILTER\":{return _objectSpread(_objectSpread({},state),{},{minPrice:action.minPrice});}case\"UPDATE_MAX_PRICE_RANGE_FILTER\":{return _objectSpread(_objectSpread({},state),{},{maxPrice:action.maxPrice});}case\"UPDATE_FICTION_FILTER\":{return _objectSpread(_objectSpread({},state),{},{fiction:!state.fiction});}case\"UPDATE_THRILLER_FILTER\":{return _objectSpread(_objectSpread({},state),{},{thriller:!state.thriller});}case\"UPDATE_TECH_FILTER\":{return _objectSpread(_objectSpread({},state),{},{tech:!state.tech});}case\"UPDATE_PHILOSOPHY_FILTER\":{return _objectSpread(_objectSpread({},state),{},{philosophy:!state.philosophy});}case\"UPDATE_ROMANCE_FILTER\":{return _objectSpread(_objectSpread({},state),{},{romance:!state.romance});}case\"UPDATE_MANGA_FILTER\":{return _objectSpread(_objectSpread({},state),{},{manga:!state.manga});}case\"UPDATE_MINIMUM_RATING_FILTER\":{return _objectSpread(_objectSpread({},state),{},{minRating:action.minRating});}case\"SELECT_ONLY_FICTION_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:true,thriller:false,tech:false,philosophy:false,romance:false,manga:false,minRating:1});}case\"SELECT_ONLY_THRILLER_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:false,thriller:true,tech:false,philosophy:false,romance:false,manga:false,minRating:1});}case\"SELECT_ONLY_TECH_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:false,thriller:false,tech:true,philosophy:false,romance:false,manga:false,minRating:1});}case\"SELECT_ONLY_PHILOSOPHY_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:false,thriller:false,tech:false,philosophy:true,romance:false,manga:false,minRating:1});}case\"SELECT_ONLY_ROMANCE_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:false,thriller:false,tech:false,philosophy:false,romance:true,manga:false,minRating:1});}case\"SELECT_ONLY_MANGA_FILTER\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:false,thriller:false,tech:false,philosophy:false,romance:false,manga:true,minRating:1});}case\"RESET_DEFAULT_FILTERS\":{return _objectSpread(_objectSpread({},state),{},{includeOutOfStock:true,onlyFastDeliveryProducts:false,minPrice:0,maxPrice:1200,fiction:true,thriller:true,tech:true,philosophy:true,romance:true,manga:true,minRating:1});}default:return _objectSpread({},state);}}var productList=[];function productsOrderFunc(state,action){switch(action.type){case\"PRICE_HIGH_TO_LOW\":{return _toConsumableArray(state).sort(function(a,b){return b.discountedPrice-a.discountedPrice;});}case\"PRICE_LOW_TO_HIGH\":{return _toConsumableArray(state).sort(function(a,b){return a.discountedPrice-b.discountedPrice;});}case\"UPDATE_LIST_AS_PER_FILTERS\":{if(action.payload.includeOutOfStock===true){//All products\nreturn action.payload.onlyFastDeliveryProducts===false?productList.filter(function(item){return action.payload.minPrice<=item.discountedPrice&&item.discountedPrice<action.payload.maxPrice&&action.payload[item.genre]&&item.rating>=action.payload.minRating;}):productList.filter(function(item){return item.fastDeliveryAvailable===true&&action.payload.minPrice<=item.discountedPrice&&item.discountedPrice<action.payload.maxPrice&&action.payload[item.genre]&&item.rating>=action.payload.minRating;});}else{//Only available products\nreturn action.payload.onlyFastDeliveryProducts===false?productList.filter(function(item){return item.outOfStock===false&&action.payload.minPrice<=item.discountedPrice&&item.discountedPrice<action.payload.maxPrice&&action.payload[item.genre]&&item.rating>=action.payload.minRating;}):productList.filter(function(item){return item.outOfStock===false&&item.fastDeliveryAvailable===true&&action.payload.minPrice<=item.discountedPrice&&item.discountedPrice<action.payload.maxPrice&&action.payload[item.genre]&&item.rating>=action.payload.minRating;});}}case\"ADD_ITEMS_TO_PRODUCTS_AVAILABLE_LIST\":{return _toConsumableArray(action.payload);}default:return _toConsumableArray(state);}}var ProductsProvider=function ProductsProvider(_ref){var children=_ref.children;var _useReducer=useReducer(productsOrderFunc,productList),_useReducer2=_slicedToArray(_useReducer,2),productsAvailableList=_useReducer2[0],dispatchSortedProductsList=_useReducer2[1];var _useReducer3=useReducer(updateProductFilters,filterOptionsObject),_useReducer4=_slicedToArray(_useReducer3,2),productFilterOptions=_useReducer4[0],dispatchProductFilterOptions=_useReducer4[1];useEffect(function(){try{_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var productsAvailableData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://bookztron-server.vercel.app/api/home/products');case 2:productsAvailableData=_context.sent;productList=_toConsumableArray(productsAvailableData.data.productsList);case 4:case\"end\":return _context.stop();}}},_callee);}))();}catch(error){console.log(\"Error : \",error);}},[]);return/*#__PURE__*/_jsx(ProductsContext.Provider,{value:{productsAvailableList:productsAvailableList,dispatchSortedProductsList:dispatchSortedProductsList,productFilterOptions:productFilterOptions,dispatchProductFilterOptions:dispatchProductFilterOptions},children:children});};var useProductAvailable=function useProductAvailable(){return useContext(ProductsContext);};export{ProductsProvider,useProductAvailable};","map":{"version":3,"sources":["C:/Users/pradh/Desktop/devrev/Bookztron-E-Commerce_Book_Store/src/Context/product-context.js"],"names":["useEffect","useReducer","useContext","createContext","axios","ProductsContext","filterOptionsObject","includeOutOfStock","onlyFastDeliveryProducts","minPrice","maxPrice","fiction","thriller","tech","philosophy","romance","manga","minRating","updateProductFilters","state","action","type","productList","productsOrderFunc","sort","a","b","discountedPrice","payload","filter","item","genre","rating","fastDeliveryAvailable","outOfStock","ProductsProvider","children","productsAvailableList","dispatchSortedProductsList","productFilterOptions","dispatchProductFilterOptions","get","productsAvailableData","data","productsList","error","console","log","useProductAvailable"],"mappings":"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","sourcesContent":["import { useEffect, useReducer, useContext, createContext} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst ProductsContext = createContext()\r\n\r\nlet filterOptionsObject = {\r\n    includeOutOfStock        : true,\r\n    onlyFastDeliveryProducts : false,\r\n    minPrice                 : 0,\r\n    maxPrice                 : 1200,\r\n    fiction                  : true,\r\n    thriller                 : true,\r\n    tech                     : true,\r\n    philosophy               : true,\r\n    romance                  : true,\r\n    manga                    : true,\r\n    minRating                : 1\r\n}\r\n\r\nfunction updateProductFilters(state, action)\r\n{\r\n    switch(action.type)\r\n    {\r\n        case \"UPDATE_OUTOFSTOCK_FILTER\" : \r\n            {\r\n                return {...state, includeOutOfStock : !(state.includeOutOfStock)}\r\n            }\r\n\r\n        case \"UPDATE_FASTDELIVERY_FILTER\" : \r\n            {\r\n                return {...state, onlyFastDeliveryProducts : !(state.onlyFastDeliveryProducts)}\r\n            }\r\n        \r\n        case \"UPDATE_MIN_PRICE_RANGE_FILTER\" :\r\n            {\r\n                return {...state, minPrice : action.minPrice}\r\n            }\r\n        \r\n        case \"UPDATE_MAX_PRICE_RANGE_FILTER\" :\r\n            {\r\n                return {...state, maxPrice : action.maxPrice}\r\n            }\r\n        case \"UPDATE_FICTION_FILTER\":\r\n            {\r\n                return {...state, fiction : !(state.fiction) }\r\n            }\r\n        case \"UPDATE_THRILLER_FILTER\":\r\n            {\r\n                return {...state, thriller : !(state.thriller) }\r\n            }\r\n        case \"UPDATE_TECH_FILTER\":\r\n            {\r\n                return {...state, tech : !(state.tech) }\r\n            }\r\n        case \"UPDATE_PHILOSOPHY_FILTER\":\r\n            {\r\n                return {...state, philosophy : !(state.philosophy) }\r\n            }\r\n        case \"UPDATE_ROMANCE_FILTER\":\r\n            {\r\n                return {...state, romance : !(state.romance) }\r\n            }\r\n        case \"UPDATE_MANGA_FILTER\":\r\n            {\r\n                return {...state, manga : !(state.manga) }\r\n            }\r\n        case \"UPDATE_MINIMUM_RATING_FILTER\":\r\n            {\r\n                return {...state, minRating : action.minRating}\r\n            }\r\n        case \"SELECT_ONLY_FICTION_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : true,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }\r\n            }\r\n        case \"SELECT_ONLY_THRILLER_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : true,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_TECH_FILTER\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : true,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_PHILOSOPHY_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : true,\r\n                    romance                  : false,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_ROMANCE_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : true,\r\n                    manga                    : false,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"SELECT_ONLY_MANGA_FILTER\" :\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : false,\r\n                    thriller                 : false,\r\n                    tech                     : false,\r\n                    philosophy               : false,\r\n                    romance                  : false,\r\n                    manga                    : true,\r\n                    minRating                : 1\r\n                }  \r\n            }\r\n        case \"RESET_DEFAULT_FILTERS\":\r\n            {\r\n                return {\r\n                    ...state,\r\n                    includeOutOfStock        : true,\r\n                    onlyFastDeliveryProducts : false,\r\n                    minPrice                 : 0,\r\n                    maxPrice                 : 1200,\r\n                    fiction                  : true,\r\n                    thriller                 : true,\r\n                    tech                     : true,\r\n                    philosophy               : true,\r\n                    romance                  : true,\r\n                    manga                    : true,\r\n                    minRating                : 1\r\n                }\r\n            }\r\n        default : return {...state}\r\n    }\r\n}\r\n\r\nlet productList = []\r\n\r\nfunction productsOrderFunc(state,action)\r\n{\r\n    switch(action.type)\r\n    {\r\n        case \"PRICE_HIGH_TO_LOW\" : \r\n            {\r\n                return [...state].sort((a,b)=>b.discountedPrice-a.discountedPrice)\r\n            }\r\n\r\n        case \"PRICE_LOW_TO_HIGH\" : \r\n            {\r\n                return [...state].sort((a,b)=>a.discountedPrice-b.discountedPrice)\r\n            }\r\n\r\n        case \"UPDATE_LIST_AS_PER_FILTERS\" : \r\n            {\r\n                if(action.payload.includeOutOfStock===true)\r\n                {\r\n                    //All products\r\n                    return (action.payload.onlyFastDeliveryProducts===false) \r\n                    ? productList.filter(item=>\r\n                        (\r\n                            action.payload.minPrice<=item.discountedPrice \r\n                            && item.discountedPrice<action.payload.maxPrice\r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        )\r\n                      )\r\n                    : productList.filter(item=> \r\n                        (\r\n                            item.fastDeliveryAvailable===true\r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                }\r\n                else\r\n                {\r\n                    //Only available products\r\n                    return (action.payload.onlyFastDeliveryProducts===false) \r\n                    ? productList.filter(item=>\r\n                        (\r\n                            item.outOfStock===false \r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                    : productList.filter(item=>\r\n                        (\r\n                            item.outOfStock===false\r\n                            && item.fastDeliveryAvailable===true \r\n                            && (\r\n                                action.payload.minPrice<=item.discountedPrice \r\n                                && item.discountedPrice<action.payload.maxPrice\r\n                               ) \r\n                            && action.payload[item.genre]\r\n                            && item.rating>=action.payload.minRating\r\n                        ))\r\n                }\r\n            }\r\n\r\n        case \"ADD_ITEMS_TO_PRODUCTS_AVAILABLE_LIST\":\r\n            {\r\n                return [...action.payload]\r\n            }\r\n\r\n        default : return [...state]\r\n    }\r\n}\r\n\r\nlet ProductsProvider = ({children}) => \r\n{\r\n    const [ productsAvailableList, dispatchSortedProductsList] = useReducer(productsOrderFunc,productList)\r\n    const [ productFilterOptions, dispatchProductFilterOptions ] = useReducer(updateProductFilters,filterOptionsObject)\r\n\r\n    useEffect(() => {\r\n      try {\r\n        (async () => {\r\n            const productsAvailableData = await axios.get('https://bookztron-server.vercel.app/api/home/products')\r\n            productList = [...productsAvailableData.data.productsList]\r\n        }) ()\r\n      }\r\n      catch(error) {\r\n        console.log(\"Error : \", error)\r\n      }\r\n    },[])\r\n\r\n    return (\r\n        <ProductsContext.Provider value={{ productsAvailableList, dispatchSortedProductsList, productFilterOptions, dispatchProductFilterOptions}}>\r\n            {children}\r\n        </ProductsContext.Provider>\r\n    )\r\n}\r\n\r\nlet useProductAvailable = () => useContext(ProductsContext)\r\n\r\nexport { ProductsProvider, useProductAvailable}"]},"metadata":{},"sourceType":"module"}